# Tests designed for running only over the gRPC protocol.
name: gRPC Only Tests
relevantProtocols:
  - PROTOCOL_GRPC
testCases:
- request:
    # Tests a trailers-only error response to a unary request
    testName: unary error trailers only response
    service: connectrpc.conformance.v1.ConformanceService
    method: Unary
    streamType: STREAM_TYPE_UNARY
    requestMessages:
    - "@type": type.googleapis.com/connectrpc.conformance.v1.UnaryRequest
      responseDefinition:
        responseHeaders:
        - name: x-custom-header
          value: ["foo","bar","baz"]
        error:
          code: 13
          message: "unary failed"
        responseTrailers:
        - name: x-custom-trailer
          value: ["bing","quux"]
